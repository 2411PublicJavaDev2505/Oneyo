<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="RecipeMapper">
 	<resultMap type="com.oneyo.spring.recipe.domain.RecipeVO" id="recipeResultMap">
 		<id property="recipeNo" column="RECIPE_NO"/>
 		<result property="memberId" column="MEMBER_ID" />
 		<result property="reicpeTitle" column="RECIPE_TITLE" />
 		<result property="reicpeContentNo" column="RECIPE_CONTENT_NO" />
 		<result property="reicpeSourceNo" column="RECIPE_SOURC_NO" />
 		<result property="reicpeDate" column="RECIPE_DATE" />
 		<result property="updateDate" column="UPDATE_DATE" />
 		<result property="viewCount" column="VIEW_COUNT" />
 		<result property="delYn" column="DEL_YN" />
 	</resultMap>
 	<select id="selectList" resultMap ="recipeResultMap">
 		SELECT * FROM RECIPE ORDER BY RECIPE_NO
 	</select>
 	<select id="selectOneByNo" resultMap="recipeResultMap">
 		SELECT * FROM RECIPE WHERE BOOK_NO = #{recipeNo}
 	</select>
 	<select id="getTotalCount" resultType="_int">
 		SELECT COUNT(*) FROM RECIPE
 	</select>
 	<select id="getSearchCount" resultType="_int">
 		SELECT COUNT(*) FROM RECIPE
 		<where>
 			RECIPE_TILE LIKE '%' || #{searchKeyword} || '%'
 		</where>
 	</select>
 	<select id="selectSearchList" resultMap="recipeResultMap">
 		SELECT * FROM RECIPE
 		<where>
 			RECIPE_TILE LIKE '%' || #{searchKeyword} || '%'
 		</where>
 		ORDER BY BOOK_NO DESC
 	</select>
 </mapper>